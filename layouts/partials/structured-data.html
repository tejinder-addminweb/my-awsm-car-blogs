{{- if .IsPage }}
<!-- Article Structured Data -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "{{ .Title | safeJS }}",
  "description": "{{ .Description | default .Summary | plainify | safeJS | truncate 200 }}",
  "image": {{ if .Params.image }}"{{ .Params.image | absURL }}"{{ else if isset $.Site.Params "ogImage" }}"{{ .Site.Params.ogImage | absURL }}"{{ else }}"{{ .Site.BaseURL }}og-image.jpg"{{ end }},
  "datePublished": "{{ .Date.Format "2006-01-02T15:04:05Z07:00" }}",
  "dateModified": "{{ if .Params.lastmod }}{{ .Params.lastmod.Format "2006-01-02T15:04:05Z07:00" }}{{ else }}{{ .Date.Format "2006-01-02T15:04:05Z07:00" }}{{ end }}",
  "author": {
    "@type": "Person",
    "name": "{{ .Params.author | default .Site.Params.author | safeJS }}"{{- with .Site.Params.socialIcons }}{{- if .twitter }},
    "url": "{{ .twitter | absURL }}"{{- end }}{{- end }}
  },
  "publisher": {
    "@type": "Organization",
    "name": "{{ .Site.Title | safeJS }}",
    "url": "{{ .Site.BaseURL }}",
    "logo": {
      "@type": "ImageObject",
      "url": "{{ if isset .Site.Params "logo" }}{{ .Site.Params.logo | absURL }}{{ else }}{{ .Site.BaseURL }}logo.png{{ end }}"
    }
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "{{ .Permalink }}"
  }{{- if or .Params.categories .Params.tags }},{{- end }}{{- with .Params.categories }}
  "articleSection": "{{ index . 0 | safeJS }}"{{- if $.Params.tags }},{{- end }}{{- end }}{{- with .Params.tags }}
  "keywords": "{{ delimit . ", " | safeJS }}"{{- end }},
  "inLanguage": "{{ .Site.LanguageCode }}",
  "url": "{{ .Permalink }}",
  "wordCount": "{{ .WordCount }}"
}
</script>
{{- else }}
<!-- Website Structured Data -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebSite",
  "name": "{{ .Site.Title | safeJS }}",
  "description": "{{ .Site.Params.description | safeJS }}",
  "url": "{{ .Site.BaseURL }}",
  "publisher": {
    "@type": "Organization",
    "name": "{{ .Site.Title | safeJS }}",
    "url": "{{ .Site.BaseURL }}",
    "logo": {
      "@type": "ImageObject",
      "url": "{{ if isset .Site.Params "logo" }}{{ .Site.Params.logo | absURL }}{{ else }}{{ .Site.BaseURL }}logo.png{{ end }}"
    }
  }{{- with .OutputFormats.Get "RSS" }},
  "potentialAction": {
    "@type": "SearchAction",
    "target": {
      "@type": "EntryPoint",
      "urlTemplate": "{{ $.Site.BaseURL }}search?q={search_term_string}"
    },
    "query-input": "required name=search_term_string"
  }
  {{- end }}
}
</script>
{{- end }}

{{- if site.Params.showBreadcrumbs }}
<!-- Breadcrumb Structured Data -->
{{- if .IsPage }}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "{{ .Site.BaseURL }}"
    }{{- if ne .Type "posts" }},
    {
      "@type": "ListItem",
      "position": 2,
      "name": "{{ .Type | title }}",
      "item": "{{ .Site.BaseURL }}{{ .Type }}/"
    }{{- end }},
    {
      "@type": "ListItem",
      "position": {{ if ne .Type "posts" }}3{{ else }}2{{ end }},
      "name": "{{ .Title | safeJS }}",
      "item": "{{ .Permalink }}"
    }
  ]
}
</script>
{{- end }}
{{- end }}

